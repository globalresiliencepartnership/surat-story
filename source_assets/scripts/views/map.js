/*global Grp, Backbone*/
Grp.Views = Grp.Views || {};

(function() {
  'use strict';

  Grp.Views.Map = Backbone.View.extend({

    el: '#site-canvas',
    template: JST['map.ejs'],

    // GeoJSON created from the conversion of the spreadsheet data.
    // This should not be modified as we frequently need a reference.
    mapGeojson: null,
    // List of all project pid. Use to ease prev/next navigation
    projectIds: [],
    // List of projects as returned from the api.
    projects: [],
    // List of tour items
    tourItems: [],

    // Sidebar View.
    sidebarView: null,

    // Tour View.
    tourView: null,

    // Tour item being displayed.
    currentTourItem: 0,

    // Project being displayed.
    currentProj: null,

    clickTimer: null,

    // Map elements.
    map: null,
    markerClusterLayer: null,
    filteredMarkersLayer: null,
    // Area to use for checking nearby markers. From turf.buffer()
    markerNearbyZone: null,
    nearbyMarkersLayer: null,
    floodLayer1: null,
    floodLayer2: null,
    floodLayer3: null,
    floodLayer4: null,
    satellite: null,
    streets: null,
    cityZones: null,
    tourMarkers: null,

    activeLayers: [],

    tooltipTemplate: JST['map-tooltip.ejs'],

    initialize: function() {
      var _self = this;

      this.processApiData(function(err, geojson, tourItems) {
        _self.mapGeojson = geojson;
        _self.tourItems = _.sortBy(tourItems, function(o) {
          return o.attributes.Weight;
        });
        _self.render();
      });

    },

    /**
     * Setup the map and the sidebar view.
     *
     * @return this
     */
    render: function() {
      var _self = this;

      // Set logo url.
      $('#logo').attr('href', window.location);

      // Render template
      this.$el.html(this.template());

      // Render subviews
      this.sidebarView = new Grp.Views.Sidebar();
      this.tourView = new Grp.Views.Tour();
      this.aboutModalView = new Grp.Views.AboutModal();

      // Create map.
      this.map = L.mapbox.map('map', null, {
        maxZoom: 17,
        zoomControl: false
      });

      new L.Control.Zoom({position: 'topright'}).addTo(this.map);

      // satellite: devseed.la1fieg0
      // skeleton: devseed.c6aac938
      // The streets layer is always visible
      this.streets = L.mapbox.tileLayer('devseed.c6aac938');
      this.satellite = L.mapbox.tileLayer('devseed.la1fieg0');
      this.map.addLayer(this.streets);

      // Flood layers
      var floodStyle = {
        color: '#009ede',
        weight: '0',
        fillOpacity: 0.4
      };
      this.floodLayer1 = L.geoJson(window.floodLevels.level1, { style: floodStyle });
      this.floodLayer2 = L.geoJson(window.floodLevels.level2, { style: floodStyle });
      this.floodLayer3 = L.geoJson(window.floodLevels.level3, { style: floodStyle });
      this.floodLayer4 = L.geoJson(window.floodLevels.level4, { style: floodStyle });

      // Layer for tour makers. Empty by default
      this.tourMarkers = L.mapbox.featureLayer();
      this.map.addLayer(this.tourMarkers);


      this.showTourItem();

      var cityZonesJson = {
        "type": "FeatureCollection",
        "crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
                                            
        "features": [
        { "type": "Feature", "properties": { "id": 1 }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 72.857641553305527, 21.147313455553462 ], [ 72.856805902708444, 21.147263708237023 ], [ 72.856059151111069, 21.146832564128037 ], [ 72.85588135311167, 21.1484908038322 ], [ 72.855632435912554, 21.149485738743486 ], [ 72.855276839913799, 21.151657990072597 ], [ 72.854832344915351, 21.152818721995612 ], [ 72.854601207516154, 21.154195006628651 ], [ 72.854547868116342, 21.154758782182533 ], [ 72.854263391317332, 21.156035560059934 ], [ 72.853615477454099, 21.158132631223683 ], [ 72.853120013911607, 21.15980315818128 ], [ 72.852967563590852, 21.161438123757144 ], [ 72.852395874887989, 21.162682107205864 ], [ 72.851900411345511, 21.164032705968864 ], [ 72.851328722642648, 21.166236288015849 ], [ 72.850871371680356, 21.167835641530864 ], [ 72.850375908137863, 21.170110247863853 ], [ 72.849918557175585, 21.171958339759776 ], [ 72.849918557175585, 21.172526978775291 ], [ 72.849461206213292, 21.174161803768797 ], [ 72.849232530732138, 21.175796610693684 ], [ 72.849080080411383, 21.176720624006077 ], [ 72.84864453298276, 21.178345623472328 ], [ 72.848247098134323, 21.178819157269338 ], [ 72.847639906004744, 21.178839745660902 ], [ 72.8471320725873, 21.178551507918222 ], [ 72.846800876880252, 21.178180915709248 ], [ 72.846524880457736, 21.177645614212302 ], [ 72.846326163033496, 21.177285314036844 ], [ 72.846248884035205, 21.176811775328449 ], [ 72.846215764464503, 21.176358823840779 ], [ 72.846447601459417, 21.17581322134334 ], [ 72.846977514590677, 21.175380855670625 ], [ 72.847529507435738, 21.175113200096984 ], [ 72.847595746577156, 21.174505826037105 ], [ 72.84686711602167, 21.17387786040371 ], [ 72.845873528900555, 21.173496961917291 ], [ 72.844603945356937, 21.173105767856235 ], [ 72.843323321956404, 21.172899875829614 ], [ 72.841821901417831, 21.172498385553453 ], [ 72.84013280331196, 21.172488090916662 ], [ 72.839547690896197, 21.173260186688136 ], [ 72.838543063918181, 21.17387786040371 ], [ 72.837980031216233, 21.174691126862129 ], [ 72.837152041948656, 21.175679394008277 ], [ 72.836732527386403, 21.1757102772502 ], [ 72.836213654112044, 21.175720571662737 ], [ 72.835975642013352, 21.175920737701954 ], [ 72.83497644664493, 21.176975775932195 ], [ 72.834359296564443, 21.177811580096332 ], [ 72.833918475078377, 21.178277436104871 ], [ 72.833227854750206, 21.179236546795668 ], [ 72.832698868966915, 21.1801545469161 ], [ 72.831978860539692, 21.181195853586718 ], [ 72.831596815251757, 21.182196049141847 ], [ 72.830935583022665, 21.183004421427263 ], [ 72.830509455586125, 21.183114030888404 ], [ 72.831038441369415, 21.18314143324098 ], [ 72.831714367648047, 21.18320993910023 ], [ 72.832566622521099, 21.18314143324098 ], [ 72.833374795245575, 21.183251042600538 ], [ 72.833830310781167, 21.183388054185702 ], [ 72.834256438217693, 21.183675778101275 ], [ 72.83478542400097, 21.184059409117662 ], [ 72.835270327635655, 21.184388234910809 ], [ 72.835975642013352, 21.184922575264739 ], [ 72.836372381350813, 21.185128090271217 ], [ 72.836857284985484, 21.185374707901865 ], [ 72.837254024322945, 21.185648727008935 ], [ 72.837797704155761, 21.18577203544141 ], [ 72.838076891096932, 21.18605975471716 ], [ 72.838444242335314, 21.186388576060892 ], [ 72.838958534069079, 21.186772200037428 ], [ 72.839252415059789, 21.18716952382071 ], [ 72.839988753351392, 21.187971873210319 ], [ 72.840399326541927, 21.188482296753431 ], [ 72.840554431969466, 21.188839592184824 ], [ 72.840800775883793, 21.189111816695668 ], [ 72.841074491344159, 21.189460603617455 ], [ 72.841457692988669, 21.189928487219873 ], [ 72.841968628514678, 21.190634563306517 ], [ 72.842461316343318, 21.191340636019831 ], [ 72.842890137231223, 21.191927609563017 ], [ 72.843081738053471, 21.192386978535751 ], [ 72.843054366507445, 21.193007975062216 ], [ 72.842999623415352, 21.193918198131623 ], [ 72.84303611881009, 21.194471134641798 ], [ 72.842944880323287, 21.195696094310069 ], [ 72.842908384928592, 21.19657227450945 ], [ 72.842789774895763, 21.197329358069865 ], [ 72.842735031803684, 21.197814229772774 ], [ 72.843395192425191, 21.194042715385457 ], [ 72.843990240712159, 21.193759653863591 ], [ 72.844706727425049, 21.19340865682344 ], [ 72.845518455856734, 21.193353677536663 ], [ 72.846821158971096, 21.193405143449628 ], [ 72.847604988811099, 21.19306546809274 ], [ 72.848620655646016, 21.193178693298456 ], [ 72.849183688347978, 21.19283901742104 ], [ 72.849890239189648, 21.192571393452532 ], [ 72.850740308171069, 21.192458167781488 ], [ 72.851391659728236, 21.192458167781488 ], [ 72.85218652942514, 21.192355235277976 ], [ 72.852959319408228, 21.192077317160397 ], [ 72.853599631108494, 21.191850864974434 ], [ 72.854217863094973, 21.191593532523726 ], [ 72.855067932076381, 21.191305319646968 ], [ 72.855664084349044, 21.19096563946345 ], [ 72.856271276478623, 21.190780359034278 ], [ 72.856955747606492, 21.190739185574017 ], [ 72.857739577446495, 21.190708305471315 ], [ 72.85836884928986, 21.190564198240001 ], [ 72.859086439988459, 21.190131875702949 ], [ 72.859914429256051, 21.189833366546441 ], [ 72.860298178213881, 21.189560713308097 ], [ 72.860572373516035, 21.189432884818668 ], [ 72.86064715405297, 21.188869276069678 ], [ 72.860796715126881, 21.188259181702485 ], [ 72.860528751536151, 21.187654895275475 ], [ 72.860684544321458, 21.186841428876345 ], [ 72.860809178549701, 21.186370778415395 ], [ 72.860958739623612, 21.185981473815289 ], [ 72.861399561109664, 21.185726966795777 ], [ 72.861913852843429, 21.185548854528225 ], [ 72.86242814457718, 21.185288536212688 ], [ 72.863206929202576, 21.185110423416898 ], [ 72.864117960273802, 21.184932310406491 ], [ 72.864940827047803, 21.184576083741913 ], [ 72.86580777597041, 21.184233557293407 ], [ 72.86657186654628, 21.184014339949886 ], [ 72.86680697133886, 21.183836225618926 ], [ 72.86624859745649, 21.183205973186318 ], [ 72.8657196116732, 21.182520913147041 ], [ 72.864999603245948, 21.181424810481907 ], [ 72.864147348372867, 21.18039720685362 ], [ 72.863691832837247, 21.179917656049792 ], [ 72.862913048211851, 21.179629924820993 ], [ 72.86197262904156, 21.179410700651861 ], [ 72.861561195654559, 21.179369596083966 ], [ 72.86163466590223, 21.178698219857594 ], [ 72.861781606397599, 21.178574905525497 ], [ 72.862016711190179, 21.177232142809018 ], [ 72.86229589813135, 21.17627301911871 ], [ 72.862237121933205, 21.175313889208457 ], [ 72.862722025567891, 21.17409441505572 ], [ 72.862952805977471, 21.172592835116589 ], [ 72.863161057218193, 21.171451943377434 ], [ 72.86360359110472, 21.170383866541048 ], [ 72.863655653914904, 21.1693400567281 ], [ 72.863915967965795, 21.168563263250732 ], [ 72.863915967965795, 21.168150590057085 ], [ 72.864592784498129, 21.168126315127488 ], [ 72.865165475410123, 21.168150590057085 ], [ 72.865581977891537, 21.168320514452688 ], [ 72.865790229132259, 21.167932115547423 ], [ 72.865894354752626, 21.167276690082911 ], [ 72.866258794423885, 21.166499885772932 ], [ 72.866362920044239, 21.166135757348837 ], [ 72.867404176247831, 21.166135757348837 ], [ 72.868731777907414, 21.166208583105337 ], [ 72.870345725022972, 21.166160032604985 ], [ 72.871543169657116, 21.166062931556496 ], [ 72.871907609328375, 21.165820178656507 ], [ 72.871907609328375, 21.164752061165697 ], [ 72.871907609328375, 21.163781038575049 ], [ 72.872115860569096, 21.163052767450989 ], [ 72.871985703543643, 21.162494423828957 ], [ 72.87219395478435, 21.161741870396977 ], [ 72.872818708506514, 21.161329178180726 ], [ 72.873235210987943, 21.161110693600399 ], [ 72.872662520075963, 21.160770828056645 ], [ 72.872610457265793, 21.160358133132952 ], [ 72.872610457265793, 21.1593870817149 ], [ 72.87250633164544, 21.159168594267964 ], [ 72.871386981226564, 21.15914431786506 ], [ 72.870293662212788, 21.15914431786506 ], [ 72.869148280388842, 21.158076152196102 ], [ 72.868523526666692, 21.157396406393836 ], [ 72.86776861591909, 21.156716657470472 ], [ 72.866987673766388, 21.156109736151585 ], [ 72.865972448967895, 21.154968717336637 ], [ 72.864931192764303, 21.154021907814695 ], [ 72.864358501852323, 21.15300226002034 ], [ 72.863837873750541, 21.15222538079766 ], [ 72.863447402674183, 21.151472775164038 ], [ 72.863056931597839, 21.150865832350885 ], [ 72.862640429116396, 21.150258887050235 ], [ 72.862093769609515, 21.149506271422901 ], [ 72.861625204317903, 21.148996432857242 ], [ 72.860193477037953, 21.148268089004684 ], [ 72.858943969593653, 21.147588298177549 ], [ 72.857798587769707, 21.147442628308688 ], [ 72.857641553305527, 21.147313455553462 ] ] ] } },
        { "type": "Feature", "properties": { "id": 1 }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 72.869507873204583, 21.188199607907695 ], [ 72.869161395202838, 21.188199607907695 ], [ 72.86821645519808, 21.188317082583183 ], [ 72.867019531192042, 21.188287713923067 ], [ 72.865917101186497, 21.188346451237472 ], [ 72.864121715177447, 21.188405188528531 ], [ 72.863523253174435, 21.1888163489124 ], [ 72.862515317169354, 21.188992560155349 ], [ 72.861853859166033, 21.189198139673273 ], [ 72.86094041716143, 21.189315613555134 ], [ 72.860562441159516, 21.189374350461044 ], [ 72.860265071477684, 21.18955819577673 ], [ 72.859912900042517, 21.189829942573898 ], [ 72.859014255690724, 21.190135657123477 ], [ 72.858346344348149, 21.190531952820617 ], [ 72.857690576848199, 21.190713116213956 ], [ 72.856961946292671, 21.19074708432548 ], [ 72.856269747264932, 21.190735761622506 ], [ 72.855613979764982, 21.190916924766007 ], [ 72.855055363005732, 21.191256605061493 ], [ 72.854181006339118, 21.191562316659901 ], [ 72.853561670366929, 21.19181141453176 ], [ 72.85294233439474, 21.192026544174105 ], [ 72.85212869694108, 21.192332254179743 ], [ 72.85136363485779, 21.192400189650666 ], [ 72.85069572351523, 21.192434157374418 ], [ 72.849869942218987, 21.192536060498828 ], [ 72.849141311663459, 21.192796479275259 ], [ 72.84859483874682, 21.193158800287733 ], [ 72.847574755969092, 21.193000284954095 ], [ 72.846785406200624, 21.193362605466856 ], [ 72.845486015043278, 21.193294670438384 ], [ 72.844648089904425, 21.193385250469412 ], [ 72.843895171663732, 21.193747570038258 ], [ 72.843312267219318, 21.194064598932229 ], [ 72.842899376571197, 21.196623450102642 ], [ 72.842787053908353, 21.197308934724077 ], [ 72.842730968505649, 21.197785360410101 ], [ 72.842500395183365, 21.198267594600839 ], [ 72.842219968169815, 21.198656866835506 ], [ 72.841970699713286, 21.198964797876599 ], [ 72.841814906927993, 21.199900207102598 ], [ 72.84178340892781, 21.200399434295345 ], [ 72.841720412927486, 21.200722462756289 ], [ 72.841436930926051, 21.201280419343096 ], [ 72.841405432925896, 21.201838373822266 ], [ 72.841247942925079, 21.202866179187552 ], [ 72.840964460923644, 21.204070170661634 ], [ 72.840712476922363, 21.20503922984069 ], [ 72.840460492921096, 21.205920187212719 ], [ 72.84030300292028, 21.206918599214447 ], [ 72.840082516919168, 21.207535262078444 ], [ 72.839988022918689, 21.208474933871489 ], [ 72.839925026918365, 21.209590786358568 ], [ 72.83995652491852, 21.210589173540725 ], [ 72.840051018919013, 21.211793102045444 ], [ 72.840177010919646, 21.212908929453686 ], [ 72.840554986921575, 21.213760476275009 ], [ 72.840775472922701, 21.21478819865521 ], [ 72.841058954924137, 21.215698461073426 ], [ 72.841373934925741, 21.216579354842793 ], [ 72.841751910927655, 21.217518969068422 ], [ 72.842318874930541, 21.218546665278001 ], [ 72.842759846932779, 21.219104554509045 ], [ 72.843358308935819, 21.219867978460066 ], [ 72.843578794936931, 21.22060203622684 ], [ 72.844460738941407, 21.22157098688756 ], [ 72.845216690945264, 21.222099502747906 ], [ 72.845563168947024, 21.222686740372406 ], [ 72.84616163095005, 21.223127167056958 ], [ 72.846728594952936, 21.223685038970046 ], [ 72.847516044956933, 21.224360354779339 ], [ 72.848146004960128, 21.225065028849826 ], [ 72.848618474962521, 21.225417364622846 ], [ 72.849279932965899, 21.225828421961143 ], [ 72.849626410967659, 21.226210117035407 ], [ 72.850256370970854, 21.225769699554366 ], [ 72.850728840973261, 21.225329280758469 ], [ 72.851547788977413, 21.224800776467823 ], [ 72.85202025897982, 21.224389716266135 ], [ 72.852996696984775, 21.223949293350518 ], [ 72.853595158987815, 21.223655677343 ], [ 72.854004632989884, 21.223244613950808 ], [ 72.854571596992784, 21.222950996540899 ], [ 72.855642528998217, 21.222686740372406 ], [ 72.856965445004931, 21.222246312373144 ], [ 72.858193867011181, 21.221864607043688 ], [ 72.859705771018852, 21.221424176590386 ], [ 72.860965691025257, 21.221101193422424 ], [ 72.861910631030057, 21.22083693394098 ], [ 72.863076057035968, 21.220660760690432 ], [ 72.864713953044287, 21.220513949487625 ], [ 72.865847881050058, 21.220513949487625 ], [ 72.867076303056294, 21.220396500420222 ], [ 72.867863753060291, 21.22042586269583 ], [ 72.868525211063641, 21.220455224965615 ], [ 72.869407155068131, 21.220484587229535 ], [ 72.870194605072129, 21.220660760690432 ], [ 72.871108047076774, 21.220807571747159 ], [ 72.872052987081574, 21.221042469134119 ], [ 72.873281409087809, 21.221482900726787 ], [ 72.87387987109085, 21.221688435020123 ], [ 72.874541329094214, 21.221982054942547 ], [ 72.875769751100449, 21.222451845603068 ], [ 72.876399711103645, 21.222745464006305 ], [ 72.877061169107023, 21.223039081825224 ], [ 72.877943113111485, 21.223332699059824 ], [ 72.878510077114356, 21.223508869120121 ], [ 72.879266029118213, 21.223949293350518 ], [ 72.879832993121099, 21.224301631788194 ], [ 72.880620443125096, 21.224389716266135 ], [ 72.881439391129248, 21.224653969384409 ], [ 72.881979495455042, 21.225057424298221 ], [ 72.88260424917722, 21.225421407539191 ], [ 72.883437254140134, 21.225736858954974 ], [ 72.884244227697948, 21.226028044278507 ], [ 72.88492104423031, 21.226319229027265 ], [ 72.885832143408507, 21.227168514594844 ], [ 72.886977525232481, 21.227993530178306 ], [ 72.887914655815777, 21.228697216294247 ], [ 72.888617503753238, 21.229279574678969 ], [ 72.889164163260133, 21.229667812324706 ], [ 72.88958066574159, 21.230056048948491 ], [ 72.890439702109603, 21.230759725224278 ], [ 72.891012393021583, 21.231196488120577 ], [ 72.891454926908139, 21.231536191701224 ], [ 72.892131743440501, 21.23194868785432 ], [ 72.892574277327043, 21.232094274456401 ], [ 72.892938716998316, 21.231560456212748 ], [ 72.893277125264504, 21.230905313000083 ], [ 72.893667596340862, 21.230225902150039 ], [ 72.893979973201951, 21.229740606769496 ], [ 72.894344412873238, 21.228988395774021 ], [ 72.894786946759766, 21.228648686325052 ], [ 72.894891072380148, 21.228648686325052 ], [ 72.895776140153231, 21.228672951311648 ], [ 72.896415451557289, 21.228678897215715 ], [ 72.897469615895687, 21.228759112015769 ], [ 72.898437726002385, 21.228879434134033 ], [ 72.899233727645651, 21.229019809814645 ], [ 72.899900647941365, 21.229180239000303 ], [ 72.900460000447467, 21.229460989655344 ], [ 72.900954812279764, 21.229701632648613 ], [ 72.901191461416957, 21.229079970779715 ], [ 72.90142811055415, 21.228418198814268 ], [ 72.901750813923044, 21.227756423879722 ], [ 72.902008976618163, 21.227275131153394 ], [ 72.902159571523654, 21.226372703058885 ], [ 72.902331679987057, 21.225751027160051 ], [ 72.902439247776698, 21.225069186065028 ], [ 72.902697410471816, 21.224427450390934 ], [ 72.902804978261429, 21.223585168082447 ], [ 72.902826491819368, 21.223083807282503 ], [ 72.902202598639491, 21.222662662893949 ], [ 72.901664759691329, 21.222241517303271 ], [ 72.901191461416957, 21.222121189770867 ], [ 72.900180324194423, 21.221980807525703 ], [ 72.899233727645651, 21.221760206584868 ], [ 72.898351671770669, 21.221499495956845 ], [ 72.897448102337762, 21.22121873014996 ], [ 72.896469324351116, 21.220999785487084 ], [ 72.895811471753362, 21.220867192043528 ], [ 72.894869142356583, 21.220701450071516 ], [ 72.893926812959805, 21.220568856359868 ], [ 72.892788905763695, 21.220369965569009 ], [ 72.891741167746559, 21.219914813001079 ], [ 72.890861067649567, 21.219677800394191 ], [ 72.889824505313115, 21.219276701269131 ], [ 72.888670596297047, 21.218729746159873 ], [ 72.887477571721121, 21.218055165399896 ], [ 72.88671481830373, 21.2176540618646 ], [ 72.885893391546531, 21.217307653388641 ], [ 72.884661251410748, 21.216487209018069 ], [ 72.883878940213421, 21.215994940206546 ], [ 72.882920608996699, 21.215630295583921 ], [ 72.881884046660247, 21.215174488538789 ], [ 72.880730137644179, 21.214499891528821 ], [ 72.879341535268921, 21.214135243212723 ], [ 72.878246299592661, 21.213843523911255 ], [ 72.877072832796671, 21.213296548667117 ], [ 72.875840692660873, 21.212804269214498 ], [ 72.874608552525089, 21.212366686100651 ], [ 72.873904472447492, 21.211929101689734 ], [ 72.872985256790642, 21.211546214266182 ], [ 72.872144272253507, 21.211163325849579 ], [ 72.871459749955847, 21.210689272148414 ], [ 72.871127267696977, 21.210397546037282 ], [ 72.870462303179252, 21.209868790991575 ], [ 72.869953800900987, 21.209485898224635 ], [ 72.869719107541798, 21.208993606065221 ], [ 72.86966043420199, 21.208355447119299 ], [ 72.869367067502992, 21.207936084024478 ], [ 72.868389178506348, 21.207899617612121 ], [ 72.867528636189277, 21.208045483207535 ], [ 72.867361021166218, 21.207806793976399 ], [ 72.867264040439267, 21.207234179348802 ], [ 72.867150896257826, 21.206420460005592 ], [ 72.866973098258441, 21.205787564083039 ], [ 72.86668215607763, 21.205486184118932 ], [ 72.866358886987825, 21.205124527350126 ], [ 72.86592247371658, 21.204808076950883 ], [ 72.86543757008188, 21.204551902321501 ], [ 72.865001156810635, 21.204386142030412 ], [ 72.864516253175935, 21.204160104969986 ], [ 72.864192984086117, 21.203934067563619 ], [ 72.863853551541837, 21.203692960615498 ], [ 72.863537629476781, 21.20305594320542 ], [ 72.863390688981426, 21.202521668420346 ], [ 72.863199666337451, 21.202206582384715 ], [ 72.862920479396251, 21.201822998477581 ], [ 72.862700068653197, 21.201480512004423 ], [ 72.862435575761552, 21.201192822753274 ], [ 72.862259247167117, 21.200932531995594 ], [ 72.862288635266182, 21.200179056164078 ], [ 72.862288635266182, 21.199644770972839 ], [ 72.862567822207367, 21.199206381680295 ], [ 72.862464963860631, 21.199384477487296 ], [ 72.862611904356001, 21.198850189422156 ], [ 72.862832315099041, 21.198302199655704 ], [ 72.862905785346712, 21.197836406755982 ], [ 72.863038031792541, 21.197219913895239 ], [ 72.863140890139306, 21.196589718534199 ], [ 72.863317218733741, 21.196302019758281 ], [ 72.863831510467534, 21.196096520289625 ], [ 72.864624989142499, 21.195836220552362 ], [ 72.865330303520267, 21.19563072043584 ], [ 72.866285416740126, 21.195521120256828 ], [ 72.866976037068355, 21.1955759203565 ], [ 72.867593187148898, 21.195438920069211 ], [ 72.868166255080823, 21.1952334194001 ], [ 72.868709934913667, 21.195069018659026 ], [ 72.868930345656722, 21.194890917649783 ], [ 72.868915651607196, 21.194192211617317 ], [ 72.869209532597907, 21.193918208349768 ], [ 72.869620965984936, 21.193712705565662 ], [ 72.86984137672799, 21.193644204574117 ], [ 72.86973851838124, 21.193164696744162 ], [ 72.86976790648032, 21.191780965425501 ], [ 72.869797294579385, 21.190575327575505 ], [ 72.869782600529859, 21.189575188713622 ], [ 72.869797294579385, 21.188602444424081 ], [ 72.869507873204583, 21.188199607907695 ] ] ] } },
        { "type": "Feature", "properties": { "id": 1 }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 72.816784045410003, 21.207624055284668 ], [ 72.817167116257039, 21.206850276721504 ], [ 72.817643826644456, 21.207425650911432 ], [ 72.818290790741685, 21.207731193535366 ], [ 72.818605760104802, 21.208112128908283 ], [ 72.819116521234193, 21.208227202942229 ], [ 72.819331423979378, 21.208791879546784 ], [ 72.820352094969593, 21.209411688189228 ], [ 72.821026299660389, 21.209752145350475 ], [ 72.82159750085674, 21.209747780520047 ], [ 72.82246366660533, 21.209625565215543 ], [ 72.822889726514106, 21.209127973288496 ], [ 72.823119143388055, 21.208752595812754 ], [ 72.823657570745297, 21.208722041790161 ], [ 72.824299001596927, 21.208852987556725 ], [ 72.824561192310028, 21.209145432682728 ], [ 72.824636103942339, 21.209459701426187 ], [ 72.824842711272069, 21.209771507248298 ], [ 72.825214051913321, 21.21000541707069 ], [ 72.825585392554572, 21.210089624516044 ], [ 72.826006914363575, 21.209911853186206 ], [ 72.82612835278951, 21.209736888563103 ], [ 72.826371229641353, 21.209695720386353 ], [ 72.826525787637976, 21.210097109619973 ], [ 72.826801784060535, 21.210488205772307 ], [ 72.827000501484761, 21.210724921361212 ], [ 72.827210258765916, 21.210745505307532 ], [ 72.827541454472978, 21.210663169505047 ], [ 72.827718092183417, 21.210426453817135 ], [ 72.82806032774738, 21.210302949829288 ], [ 72.828733759018419, 21.210591125640217 ], [ 72.829186393151403, 21.210766089250974 ], [ 72.829506549001579, 21.210951344612845 ], [ 72.82982670485174, 21.21111601585045 ], [ 72.830179980272604, 21.211229227219771 ], [ 72.830555335407283, 21.211208643340893 ], [ 72.830941730398862, 21.211126307796707 ], [ 72.831195647107606, 21.210796965160764 ], [ 72.831615161669902, 21.210333825835942 ], [ 72.832012596518382, 21.210025065478906 ], [ 72.832310672654728, 21.209675136293679 ], [ 72.832597708934188, 21.20925316176136 ], [ 72.832851625642945, 21.208872354440832 ], [ 72.833149701779305, 21.208615051641239 ], [ 72.833536096770885, 21.208223950527099 ], [ 72.833922491762451, 21.20789460141696 ], [ 72.83440824546615, 21.207482913996238 ], [ 72.834772560743929, 21.207246193209567 ], [ 72.834849839742247, 21.207009472043406 ], [ 72.834860879599148, 21.206762458248033 ], [ 72.835059597023388, 21.206494859503422 ], [ 72.835335593445947, 21.206011122080611 ], [ 72.835854466720349, 21.205434752018647 ], [ 72.836185662427411, 21.205084811954954 ], [ 72.836428539279268, 21.204693701490697 ], [ 72.836803894413933, 21.204251127874041 ], [ 72.837135090120995, 21.20397323213458 ], [ 72.837477325684986, 21.203612996138503 ], [ 72.837929959817956, 21.203263051758075 ], [ 72.838250115668117, 21.202923399066496 ], [ 72.83851507223379, 21.202635208291401 ], [ 72.838592351232094, 21.202429357393473 ], [ 72.838791068656334, 21.202017654736927 ], [ 72.839232662932417, 21.201564780489271 ], [ 72.839685297065415, 21.201019271029161 ], [ 72.840093771770796, 21.200576686401959 ], [ 72.840557445760695, 21.200134100448661 ], [ 72.841010079893678, 21.199660634937512 ], [ 72.84147776837699, 21.199265767273804 ], [ 72.842003667014865, 21.198929848235021 ], [ 72.841882228588943, 21.199866489694035 ], [ 72.841860148875142, 21.200422296103746 ], [ 72.841782869876823, 21.200751661878197 ], [ 72.841484793740463, 21.20129717232663 ], [ 72.84144063431286, 21.201863265944858 ], [ 72.841275036459322, 21.202861643947742 ], [ 72.841010079893678, 21.204076156543493 ], [ 72.840756163184921, 21.205064227219491 ], [ 72.840469126905461, 21.205980245170029 ], [ 72.840336648622625, 21.206916841918559 ], [ 72.840115851484597, 21.207565251572202 ], [ 72.839983373201761, 21.208481254008234 ], [ 72.839939213774159, 21.209603091946704 ], [ 72.840005452915577, 21.210611709605175 ], [ 72.840082731913895, 21.211795282764072 ], [ 72.840215210196703, 21.212896511877087 ], [ 72.840579525474482, 21.21377131419592 ], [ 72.840822402326324, 21.214831361823077 ], [ 72.841087358891997, 21.2157164443013 ], [ 72.841407514742158, 21.216601521472054 ], [ 72.841782869876823, 21.217538050838382 ], [ 72.842367982292643, 21.218567197134504 ], [ 72.842776456998024, 21.219092058982088 ], [ 72.843372609270745, 21.219853619912126 ], [ 72.843582366551885, 21.220594594341943 ], [ 72.844476594960952, 21.221551680806893 ], [ 72.845238345087211, 21.222066240856424 ], [ 72.845591620508088, 21.2227042928257 ], [ 72.846209852494596, 21.223126228902647 ], [ 72.846750805482813, 21.223692238818142 ], [ 72.847523595465972, 21.224340574780456 ], [ 72.848197026736997, 21.22508152667719 ], [ 72.848638621013095, 21.225441710282798 ], [ 72.849278932713418, 21.225812183931104 ], [ 72.849632208134281, 21.226203238439417 ], [ 72.848926428203839, 21.226874072397589 ], [ 72.84860315911402, 21.227271288292183 ], [ 72.848309278123295, 21.227695897203585 ], [ 72.847603963745527, 21.228312262803286 ], [ 72.847295388705248, 21.228668383975826 ], [ 72.846986813664969, 21.229188867219783 ], [ 72.846545992178861, 21.229736742334442 ], [ 72.846296193336727, 21.23001067912859 ], [ 72.846002312346002, 21.230503764075905 ], [ 72.845502714661748, 21.230887273450758 ], [ 72.845223527720549, 21.231257085117736 ], [ 72.844723930036281, 21.232024098952262 ], [ 72.844430049045542, 21.232393907768547 ], [ 72.843945145410842, 21.232941770976929 ], [ 72.843607182271498, 21.233106129542534 ], [ 72.84313697268631, 21.233558114653412 ], [ 72.84246619127488, 21.234144279076766 ], [ 72.841711562187029, 21.234730441170022 ], [ 72.840915009260968, 21.235511987003022 ], [ 72.840202304011328, 21.23617629770396 ], [ 72.839447674923477, 21.236957835873046 ], [ 72.83856727432098, 21.237817523074082 ], [ 72.837519178365625, 21.238950739452473 ], [ 72.836722625439549, 21.239732262913975 ], [ 72.836135691704555, 21.240591933936141 ], [ 72.835297214940269, 21.241373448696635 ], [ 72.834752205043472, 21.241881431068997 ], [ 72.834207195146703, 21.242272185548753 ], [ 72.83368796206787, 21.24290846912702 ], [ 72.833229809338249, 21.243442246283479 ], [ 72.832513945698224, 21.244136153696825 ], [ 72.832113062059818, 21.244910123495877 ], [ 72.831654909330197, 21.245390516499146 ], [ 72.83105083110614, 21.246011921707193 ], [ 72.830334344393194, 21.246566525359935 ], [ 72.829581426152458, 21.247075853406496 ], [ 72.829034953235777, 21.247494632925971 ], [ 72.828476336476527, 21.247822864690317 ], [ 72.827951190242004, 21.248233848395316 ], [ 72.826976814203903, 21.248744306374434 ], [ 72.826027386510319, 21.249485135638277 ], [ 72.825331875525464, 21.249958441273403 ], [ 72.824437647116383, 21.250462612994916 ], [ 72.823543418707288, 21.25088446964023 ], [ 72.822582951156789, 21.251296035934974 ], [ 72.822141356880692, 21.25150181865121 ], [ 72.821600403892489, 21.251635577262611 ], [ 72.821059450904258, 21.251748757531264 ], [ 72.820098983353759, 21.25196482871176 ], [ 72.819017077377339, 21.252088297815487 ], [ 72.817504616981722, 21.252016274184228 ], [ 72.816764946569265, 21.252016274184228 ], [ 72.816235033437948, 21.251995695997397 ], [ 72.815771359448036, 21.251820781293304 ], [ 72.815340805028853, 21.25150181865121 ], [ 72.814821931754452, 21.251337192501222 ], [ 72.814071221485094, 21.251121120400196 ], [ 72.813585467781394, 21.250781577886897 ], [ 72.813110753934581, 21.250555215776636 ], [ 72.812437322663541, 21.250143647412397 ], [ 72.812073007385763, 21.249834970384732 ], [ 72.811664532680382, 21.249526292710375 ], [ 72.811245018118086, 21.249166167939649 ], [ 72.810891742697208, 21.249022117784886 ], [ 72.810439108564225, 21.248641413126531 ], [ 72.810096873000248, 21.248415047728223 ], [ 72.809688398294853, 21.248085788346263 ], [ 72.809290963446372, 21.247746238838022 ], [ 72.808783130028857, 21.247283215520387 ], [ 72.808109698757818, 21.246789322377932 ], [ 72.807590825483416, 21.246316006563102 ], [ 72.806950513783079, 21.245791241599996 ], [ 72.80673923256434, 21.245392538892688 ], [ 72.806229191175447, 21.244770019485969 ], [ 72.805925595110622, 21.244373869403482 ], [ 72.805561279832858, 21.24372870841853 ], [ 72.805164885840355, 21.243330678580794 ], [ 72.804820668913521, 21.242689022375405 ], [ 72.804411911312897, 21.242147622779292 ], [ 72.803960126596436, 21.241526013383258 ], [ 72.803615909669603, 21.240924453407285 ], [ 72.803250179184829, 21.240262734598208 ], [ 72.802819908026279, 21.239681221677436 ], [ 72.80245417754152, 21.238999444986966 ], [ 72.802282069078103, 21.23833771753679 ], [ 72.802002392825045, 21.237736144550084 ], [ 72.801658175898211, 21.237154621662945 ], [ 72.801400013203079, 21.236653306988231 ], [ 72.801249418297601, 21.235811094497411 ], [ 72.801249418297601, 21.23490871863299 ], [ 72.801292445413452, 21.233745648261852 ], [ 72.801356986087228, 21.232742994027245 ], [ 72.801270931855527, 21.231840599387336 ], [ 72.801378499645153, 21.230938199225641 ], [ 72.801529094550645, 21.230196221622922 ], [ 72.80157212166651, 21.229313865020298 ], [ 72.801959365709195, 21.228251019376749 ], [ 72.801959365709195, 21.227629351393894 ], [ 72.802303582636029, 21.226646709561187 ], [ 72.802626286004951, 21.226085197003574 ], [ 72.80329320630068, 21.225122599075085 ], [ 72.803788018133019, 21.224460809355779 ], [ 72.804368884197046, 21.223658636019046 ], [ 72.805057318050714, 21.222635858689145 ], [ 72.805831806136098, 21.221472691540686 ], [ 72.805874833251949, 21.220951268807962 ], [ 72.806154509505006, 21.220289460378382 ], [ 72.806606294221481, 21.219747978546419 ], [ 72.807359268748939, 21.219186439733139 ], [ 72.808026189044682, 21.218544678472906 ], [ 72.808391919529441, 21.218123521129176 ], [ 72.808607055108723, 21.21722103705973 ], [ 72.808951272035557, 21.216619377947481 ], [ 72.809166407614825, 21.215716884680301 ], [ 72.809532138099584, 21.214714107911238 ], [ 72.809897868584343, 21.214292939636731 ], [ 72.810543275322175, 21.213611045596796 ], [ 72.811296249849633, 21.212949204251519 ], [ 72.811984683703301, 21.212367583649989 ], [ 72.812651603999043, 21.211585400607284 ], [ 72.813103388715518, 21.21114416731902 ], [ 72.813899390358827, 21.210622708096324 ], [ 72.814308147959437, 21.210281752993353 ], [ 72.815211717392387, 21.209519615210109 ], [ 72.81598620547777, 21.208897868315212 ], [ 72.816265881730814, 21.208677247819928 ], [ 72.816524044425933, 21.208035440868382 ], [ 72.816954315584482, 21.20733346132085 ], [ 72.816784045410003, 21.207624055284668 ] ] ] } },
        { "type": "Feature", "properties": { "id": 1 }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 72.775364889545159, 21.178884068641491 ], [ 72.775009915839334, 21.17892820166437 ], [ 72.774678607047264, 21.179038534163976 ], [ 72.774039654376779, 21.179501929763312 ], [ 72.773306042051431, 21.179678461038236 ], [ 72.772501434984918, 21.179678461038236 ], [ 72.772241120933998, 21.17994325755549 ], [ 72.772146461279107, 21.180428716605551 ], [ 72.771980806883064, 21.181134836015069 ], [ 72.771980806883064, 21.181840952052511 ], [ 72.772335780588861, 21.182458800819031 ], [ 72.772619759553521, 21.182944251610021 ], [ 72.772619759553521, 21.183650359006073 ], [ 72.772312115675149, 21.184091674416059 ], [ 72.772146461279107, 21.18459918550894 ], [ 72.771957141969324, 21.185327350555536 ], [ 72.771602168263513, 21.185525940400311 ], [ 72.771289326270647, 21.185720941566206 ], [ 72.771068915527593, 21.186227875327678 ], [ 72.770863198834064, 21.186844414046028 ], [ 72.770598705942376, 21.187159532842365 ], [ 72.770099108258094, 21.187186934445066 ], [ 72.76987869751504, 21.187186934445066 ], [ 72.769717062970116, 21.187228036839624 ], [ 72.769349711731678, 21.187556855584564 ], [ 72.769437876028888, 21.188159688050465 ], [ 72.769217465285834, 21.18858440944787 ], [ 72.769026442641831, 21.189036530884636 ], [ 72.768688479502472, 21.189872266869081 ], [ 72.768335822313574, 21.190406587398968 ], [ 72.768159493719125, 21.190776500480336 ], [ 72.767985350283823, 21.191099620149895 ], [ 72.767481382281233, 21.191246460598396 ], [ 72.767166402279585, 21.191657613078014 ], [ 72.766851422277966, 21.192421178933881 ], [ 72.766473446276024, 21.193243476212523 ], [ 72.766032474273743, 21.193948298809378 ], [ 72.765560004271293, 21.194241973899157 ], [ 72.764772554267225, 21.194858689687827 ], [ 72.764300084264804, 21.195446035664858 ], [ 72.763965153567426, 21.195980760777317 ], [ 72.763652229088478, 21.196582503986001 ], [ 72.763378420169389, 21.197257182851015 ], [ 72.763280631269708, 21.198205374966932 ], [ 72.763182842370043, 21.199007686619311 ], [ 72.762967706790761, 21.20010174094115 ], [ 72.762928591230903, 21.200156443444548 ], [ 72.762830802331223, 21.200995212626488 ], [ 72.762713455651607, 21.201870444955677 ], [ 72.762830802331223, 21.202362760861735 ], [ 72.76331974682958, 21.202453930293895 ], [ 72.76331974682958, 21.203019179517156 ], [ 72.763241515709851, 21.203675595255167 ], [ 72.763221957929915, 21.204605512556508 ], [ 72.763143726810171, 21.205535424002449 ], [ 72.763163284590107, 21.206501796359316 ], [ 72.763163284590107, 21.207431695864141 ], [ 72.763202400149979, 21.208635086530414 ], [ 72.763182842370043, 21.209455574543234 ], [ 72.763202400149979, 21.209947865162359 ], [ 72.763221957929915, 21.210403688346098 ], [ 72.763652229088478, 21.210440154139999 ], [ 72.7641216158069, 21.210804811583653 ], [ 72.764141173586836, 21.212190501655034 ], [ 72.763906480227632, 21.21288334181321 ], [ 72.763828249107888, 21.21415961780276 ], [ 72.76369134464835, 21.215435882757323 ], [ 72.76369134464835, 21.217167938972892 ], [ 72.763671786868414, 21.218498873622245 ], [ 72.763730460208222, 21.219155220536987 ], [ 72.763945595787504, 21.219319306809531 ], [ 72.764727906984874, 21.219428697556548 ], [ 72.765529775962207, 21.219629247048797 ], [ 72.766136067140181, 21.219866259733696 ], [ 72.766585896078681, 21.219957418357286 ], [ 72.76684014721782, 21.220249125574387 ], [ 72.76684014721782, 21.220486137263659 ], [ 72.766644569418489, 21.221288327848747 ], [ 72.766390318279335, 21.221926430881688 ], [ 72.766038278240501, 21.222929158643694 ], [ 72.765784027101347, 21.223767798447785 ], [ 72.765608007081937, 21.224387659586899 ], [ 72.765431987062527, 21.224879900400943 ], [ 72.765373313722719, 21.22526275323192 ], [ 72.765490660402321, 21.225663836084422 ], [ 72.766038278240501, 21.225663836084422 ], [ 72.767348649496128, 21.226010224943117 ], [ 72.768306980712936, 21.226265458318544 ], [ 72.768971945230703, 21.226520691252361 ], [ 72.769441331949139, 21.226684769333758 ], [ 72.769910718667575, 21.226903539825084 ], [ 72.770399663165961, 21.227012924949062 ], [ 72.7706539143051, 21.227322849026539 ], [ 72.770751703204766, 21.228033848861429 ], [ 72.770898332091463, 21.229547293407244 ], [ 72.770937447651335, 21.230929161410721 ], [ 72.771210083103639, 21.232182493554269 ], [ 72.771156743703813, 21.232745971642117 ], [ 72.771245642703505, 21.233787044477438 ], [ 72.771539523694258, 21.235060811267832 ], [ 72.771774628486881, 21.235581271951123 ], [ 72.772200755923464, 21.235704538685965 ], [ 72.772479942864678, 21.23575932386839 ], [ 72.772641577409601, 21.23575932386839 ], [ 72.773302809638793, 21.235786716451958 ], [ 72.774272616908291, 21.235992160666541 ], [ 72.775022013434707, 21.236074338272218 ], [ 72.775404058722685, 21.236156515832082 ], [ 72.775933044506047, 21.236238693346163 ], [ 72.776579582685713, 21.236293478330094 ], [ 72.777328979212129, 21.236320870814442 ], [ 72.777960823342241, 21.236375655767841 ], [ 72.778548585323762, 21.236512618062282 ], [ 72.779033488958504, 21.236581099161789 ], [ 72.779459616395101, 21.236608491592687 ], [ 72.77975349738584, 21.236704365060756 ], [ 72.779856355732619, 21.23711525064633 ], [ 72.779915131930764, 21.237745272986835 ], [ 72.779915131930721, 21.238538642222178 ], [ 72.779939419615914, 21.239047998010886 ], [ 72.780024426514061, 21.23988560148128 ], [ 72.780158008782578, 21.240553417054468 ], [ 72.780243015680739, 21.241243867262689 ], [ 72.780340166421496, 21.241628706958657 ], [ 72.780413029477046, 21.242262558385242 ], [ 72.780498036375207, 21.2427379451664 ], [ 72.780583043273353, 21.2435076157517 ], [ 72.780668050171499, 21.244050910215513 ], [ 72.780680194014096, 21.244730025478905 ], [ 72.78075305706966, 21.246246704934887 ], [ 72.780655906328917, 21.247446455237846 ], [ 72.780668050171499, 21.248295329268416 ], [ 72.780728769384481, 21.249246062376869 ], [ 72.780716625541871, 21.249925153698445 ], [ 72.780615296724235, 21.250860457757852 ], [ 72.780561863816828, 21.251619899690439 ], [ 72.780454998002, 21.252454036318117 ], [ 72.780401565094593, 21.252989375247605 ], [ 72.780495072682555, 21.253674108252099 ], [ 72.780481714455718, 21.254346388469052 ], [ 72.780588580270532, 21.254719876152688 ], [ 72.781029401756669, 21.254856821399407 ], [ 72.781643880191879, 21.254956417862513 ], [ 72.782218283946548, 21.255043564712501 ], [ 72.78261903075213, 21.255118261971433 ], [ 72.783006419330832, 21.255118261971433 ], [ 72.783407166136413, 21.254744775297933 ], [ 72.783781196488292, 21.254284140429704 ], [ 72.783981569891068, 21.253773705514885 ], [ 72.784181943293845, 21.253275718527593 ], [ 72.784302167335539, 21.252802629330361 ], [ 72.784502540738316, 21.252429136785683 ], [ 72.784783063502232, 21.252080542889647 ], [ 72.785370825483739, 21.251968494676461 ], [ 72.785905154557838, 21.252080542889647 ], [ 72.786746722849543, 21.252566084162012 ], [ 72.787468067099582, 21.25297692552715 ], [ 72.788510008794077, 21.253387765746499 ], [ 72.789258069497819, 21.253723906891903 ], [ 72.790219861831218, 21.254010248744102 ], [ 72.790767549132156, 21.254172093892592 ], [ 72.791742699692392, 21.254533132429238 ], [ 72.792504118622986, 21.254782124007896 ], [ 72.7930384476971, 21.255068463803013 ], [ 72.793666284359162, 21.255317454476742 ], [ 72.794067031164744, 21.255504197205838 ], [ 72.794734942507375, 21.255790535597274 ], [ 72.795175763993498, 21.256027075587731 ], [ 72.79584367533613, 21.256176469070198 ], [ 72.796511586678761, 21.256176469070198 ], [ 72.796885617030625, 21.256126671259551 ], [ 72.796765392988945, 21.255703389189243 ], [ 72.796618452493576, 21.255217858257765 ], [ 72.796431437317636, 21.254757224868964 ], [ 72.796324571502822, 21.254284140429704 ], [ 72.796324571502822, 21.253835953769915 ], [ 72.796404720863933, 21.252653232426116 ], [ 72.796565019586168, 21.251968494676461 ], [ 72.797005841072291, 21.251246404147235 ], [ 72.797179498021379, 21.250848007857492 ], [ 72.797446662558428, 21.25067370914196 ], [ 72.797540170146405, 21.250362460922773 ], [ 72.7972329309288, 21.24995161226666 ], [ 72.796952408164898, 21.249578112494195 ], [ 72.796685243627834, 21.249005411004173 ], [ 72.796538303132465, 21.24842025718263 ], [ 72.796297855049104, 21.247760400085522 ], [ 72.796244422141697, 21.247324643778764 ], [ 72.796257780368549, 21.246453127299432 ], [ 72.796471511998192, 21.246029817435453 ], [ 72.796711960081552, 21.245880413663727 ], [ 72.796603148230787, 21.245572362313521 ], [ 72.796035190301467, 21.245131230682144 ], [ 72.795443567458449, 21.244668041048087 ], [ 72.794757284960525, 21.244248963458109 ], [ 72.794307651599823, 21.243697543761002 ], [ 72.793872946217931, 21.243312628300494 ], [ 72.79344681878132, 21.24280589055115 ], [ 72.79315293779058, 21.242244368307528 ], [ 72.792735675359069, 21.241760151278733 ], [ 72.792394626469303, 21.241397076881899 ], [ 72.792121421584937, 21.24051995419515 ], [ 72.791999983159016, 21.239958607261155 ], [ 72.791753317768126, 21.238721213484322 ], [ 72.791566302592187, 21.237774940119323 ], [ 72.791299138055138, 21.236679247582444 ], [ 72.79124570514773, 21.236069142526869 ], [ 72.791192272240323, 21.235782765813831 ], [ 72.791259063374582, 21.234836473589098 ], [ 72.791218988694013, 21.234076945173232 ], [ 72.791379287416248, 21.233217801757839 ], [ 72.791472795004225, 21.232470716458298 ], [ 72.791673168407016, 21.231698724339317 ], [ 72.791967049397769, 21.231063695534711 ], [ 72.792207497481115, 21.230466018867851 ], [ 72.792421229110758, 21.2298683397789 ], [ 72.792755184782081, 21.229245754819104 ], [ 72.792982274638561, 21.228884654338266 ], [ 72.793369663217291, 21.228386583258889 ], [ 72.793690260661762, 21.227925866013084 ], [ 72.794144440374751, 21.227427791696147 ], [ 72.794424963138653, 21.226917263775892 ], [ 72.794705485902554, 21.226593513447543 ], [ 72.795201427295723, 21.226094669192882 ], [ 72.795613216679527, 21.225549214052105 ], [ 72.796289172669645, 21.224939166127395 ], [ 72.796979004904614, 21.224351937468015 ], [ 72.797202865090199, 21.223860740224524 ], [ 72.797500941226588, 21.223140364414256 ], [ 72.797898376075096, 21.222584643528794 ], [ 72.798108133356251, 21.222275908799105 ], [ 72.79840620949264, 21.2218128054933 ], [ 72.798693245772114, 21.221524651591675 ], [ 72.798936122623985, 21.221061545927988 ], [ 72.799178999475856, 21.220680769071219 ], [ 72.799469959010281, 21.220021870545089 ], [ 72.800090380720519, 21.219503050737604 ], [ 72.800427963121692, 21.219120313644915 ], [ 72.800747297825495, 21.218797112660265 ], [ 72.801136687735621, 21.218075166987632 ], [ 72.801262679736297, 21.21757599955626 ], [ 72.801735149738732, 21.216871289720096 ], [ 72.802113125740689, 21.216313392046739 ], [ 72.80233361174183, 21.215579312947831 ], [ 72.802711587743786, 21.214903956952305 ], [ 72.803247053746574, 21.21411114379724 ], [ 72.804003005750488, 21.213259598998739 ], [ 72.804380981752459, 21.21231995765821 ], [ 72.804475475752938, 21.211850134745056 ], [ 72.804776919423929, 21.211626871266361 ], [ 72.804857106321663, 21.211221538486033 ], [ 72.805143451777681, 21.210808984384744 ], [ 72.805208780493103, 21.210631123271728 ], [ 72.805466943188236, 21.210310224391346 ], [ 72.805798251980335, 21.209736615904976 ], [ 72.806052176504579, 21.209394214700175 ], [ 72.806195349232581, 21.209201743839248 ], [ 72.806455800354058, 21.209151891344156 ], [ 72.806770780355677, 21.208858245897503 ], [ 72.807458009450158, 21.207897220352578 ], [ 72.807858893088607, 21.207123056337039 ], [ 72.808231142181455, 21.206589147754617 ], [ 72.808632025819904, 21.205975150498343 ], [ 72.809032909458338, 21.205281063569299 ], [ 72.809462427642387, 21.204693756696692 ], [ 72.809806042189635, 21.204239927059042 ], [ 72.810292829464899, 21.203252175379884 ], [ 72.810665078557733, 21.202905125924321 ], [ 72.810922789468151, 21.202477987013381 ], [ 72.811438211289015, 21.201890668993872 ], [ 72.811524114925831, 21.201410134331766 ], [ 72.811695922199448, 21.200849508583406 ], [ 72.811695922199448, 21.200422363727895 ], [ 72.811867729473065, 21.199835037534744 ], [ 72.812096805837896, 21.198767165746315 ], [ 72.812010902201081, 21.198019650901365 ], [ 72.811695922199448, 21.197485709410632 ], [ 72.811495480380231, 21.197031857626261 ], [ 72.811266404015399, 21.196311031338396 ], [ 72.811123231287397, 21.195403319158441 ], [ 72.810894154922565, 21.194709182552224 ], [ 72.810292829464899, 21.193908251646874 ], [ 72.809691504007219, 21.193267503796804 ], [ 72.809634234916032, 21.19305392056269 ], [ 72.809032909458352, 21.193000524705937 ], [ 72.808660660365504, 21.192760243111731 ], [ 72.808431584000687, 21.192413169008127 ], [ 72.808259776727056, 21.191825810975768 ], [ 72.807858893088607, 21.191425338251612 ], [ 72.807028491266124, 21.190651087907654 ], [ 72.806513069445259, 21.190197215130524 ], [ 72.805768571259577, 21.189876833507469 ], [ 72.805367687621143, 21.189529752632083 ], [ 72.804394113070629, 21.188969081803929 ], [ 72.803792787612949, 21.188435107609283 ], [ 72.804228433695371, 21.188682724096591 ], [ 72.803697048814541, 21.188111037546147 ], [ 72.802791629215548, 21.187717394967169 ], [ 72.801866733392572, 21.187340940172621 ], [ 72.800921793387658, 21.186782930947352 ], [ 72.800045204043087, 21.186676321576755 ], [ 72.799802310347317, 21.186153196648807 ], [ 72.799242957841173, 21.185651708755923 ], [ 72.798511496871583, 21.185290636419634 ], [ 72.797607927438577, 21.185009801770576 ], [ 72.796876466469001, 21.184688847232664 ], [ 72.795843815688414, 21.184087055596002 ], [ 72.794703597118186, 21.183645740172214 ], [ 72.793556238575704, 21.182988943491548 ], [ 72.792941760140465, 21.182988943491548 ], [ 72.791792952631113, 21.182951576607309 ], [ 72.791125041288467, 21.182914209713616 ], [ 72.789586821896563, 21.182605286604616 ], [ 72.788663890261404, 21.18229636285016 ], [ 72.787575304230231, 21.182252230832539 ], [ 72.786510383112741, 21.182252230832539 ], [ 72.785350802340375, 21.182097768667145 ], [ 72.78393090751706, 21.181788843852278 ], [ 72.782723996917255, 21.181546116759204 ], [ 72.781635410886054, 21.181104793750951 ], [ 72.780357505545084, 21.181082727565965 ], [ 72.779221589686443, 21.18064140317464 ], [ 72.778227663310119, 21.180619336920493 ], [ 72.777281066761262, 21.180376607907586 ], [ 72.776168815816334, 21.17980288320226 ], [ 72.775695517541891, 21.179361554991115 ], [ 72.775364889545159, 21.178884068641491 ] ] ] } },
        { "type": "Feature", "properties": { "id": 3 }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 72.808358067981018, 21.187661914863025 ], [ 72.808949412763454, 21.188595001051972 ], [ 72.809722709786627, 21.188891890876786 ], [ 72.810223078448672, 21.189358430825202 ], [ 72.81063247099037, 21.189824969300929 ], [ 72.811997112795979, 21.190418743412831 ], [ 72.813043338180279, 21.191054927314049 ], [ 72.814680908347015, 21.192624169227784 ], [ 72.815408717309992, 21.194193394477576 ], [ 72.816318478513736, 21.195847424673332 ], [ 72.817000799416533, 21.196738048647735 ], [ 72.818047024800848, 21.198052769464127 ], [ 72.818911297944396, 21.199621937057966 ], [ 72.819275202425885, 21.200766994782448 ], [ 72.819275202425885, 21.201403134127254 ], [ 72.819184226305509, 21.201954452676652 ], [ 72.819457154666637, 21.202675404597709 ], [ 72.81882032182402, 21.202760222239416 ], [ 72.818228977041599, 21.203947664108838 ], [ 72.817819584499915, 21.204668606300224 ], [ 72.817637632259164, 21.205177504551646 ], [ 72.817364703898036, 21.205771216961892 ], [ 72.817182751657285, 21.206152887965136 ], [ 72.817137263597104, 21.2068738193909 ], [ 72.817637632259164, 21.20742511751806 ], [ 72.81827446510178, 21.207721969503218 ], [ 72.818592881523088, 21.208146042732469 ], [ 72.819093250185148, 21.20823085723217 ], [ 72.81932069048608, 21.208782150292695 ], [ 72.820321427810185, 21.209418255112436 ], [ 72.821003748712997, 21.209757509895724 ], [ 72.821595093495432, 21.209757509895724 ], [ 72.822459366638981, 21.209672696272989 ], [ 72.822914247240845, 21.209121406537598 ], [ 72.823141687541778, 21.208739743207264 ], [ 72.823642056203838, 21.208739743207264 ], [ 72.824278889046454, 21.208866964426999 ], [ 72.8245063293474, 21.209121406537598 ], [ 72.824597305467776, 21.209460662002972 ], [ 72.824838442403362, 21.209806047315151 ], [ 72.825221081305628, 21.210014133641891 ], [ 72.825587776920315, 21.210103313406417 ], [ 72.826018245685376, 21.209954680435605 ], [ 72.826161735273715, 21.209761457349845 ], [ 72.826400884587656, 21.209716867371064 ], [ 72.826544374175995, 21.210088450116075 ], [ 72.826767580202315, 21.210489758430263 ], [ 72.82697484294107, 21.210727570249869 ], [ 72.827229935542576, 21.21077215992338 ], [ 72.827596631157263, 21.210682980562861 ], [ 72.82775606403321, 21.210445168671452 ], [ 72.828074929785089, 21.210296536044787 ], [ 72.828696718001297, 21.210593801148477 ], [ 72.829175016629137, 21.210801886364933 ], [ 72.82949388238103, 21.210965381686385 ], [ 72.829860577995703, 21.211128876826802 ], [ 72.83017944374761, 21.211262645443352 ], [ 72.830593969225077, 21.211247782269723 ], [ 72.830944721552157, 21.2111437400124 ], [ 72.831215757441271, 21.210816749583444 ], [ 72.831638219436229, 21.210379530787733 ], [ 72.83202033128768, 21.210060154569067 ], [ 72.832323385514684, 21.209691642689041 ], [ 72.832626439741702, 21.209298562336521 ], [ 72.832863612615014, 21.208917764747053 ], [ 72.833193019383501, 21.208635236868616 ], [ 72.83356195496421, 21.208266721432132 ], [ 72.833944066815661, 21.207910488969251 ], [ 72.834405236291545, 21.207517403874881 ], [ 72.834787348142996, 21.207247157265485 ], [ 72.834892758308911, 21.206976910161501 ], [ 72.834892758308911, 21.206755798526721 ], [ 72.835077226099258, 21.206485550523468 ], [ 72.835340751514053, 21.206067893545644 ], [ 72.835867802343643, 21.20546597405848 ], [ 72.83621038538287, 21.205097450712618 ], [ 72.836434381985441, 21.204728926447117 ], [ 72.836829670107619, 21.204298980308405 ], [ 72.837159076876119, 21.204004159375582 ], [ 72.837501659915361, 21.203647916629851 ], [ 72.837949653120504, 21.203242535908412 ], [ 72.83827905988899, 21.202923144253319 ], [ 72.838516232762302, 21.202665173566121 ], [ 72.838634819198958, 21.202419486778449 ], [ 72.838819286989306, 21.202063240210432 ], [ 72.839267280194463, 21.201584148643487 ], [ 72.839688920858123, 21.201055917678715 ], [ 72.840123737792538, 21.200589107346818 ], [ 72.840585104605509, 21.200146158523715 ], [ 72.84104745994577, 21.199685364759617 ], [ 72.841493871998409, 21.199284027084254 ], [ 72.842004057201464, 21.198971874805121 ], [ 72.842259149802985, 21.198674586307003 ], [ 72.842546128979691, 21.198273245885549 ], [ 72.842769335006025, 21.197782717223085 ], [ 72.842832996553383, 21.197307883926428 ], [ 72.842960319648128, 21.196556061418928 ], [ 72.843002760679695, 21.195685525314829 ], [ 72.843087642742859, 21.194439066963412 ], [ 72.843087642742859, 21.193885082098728 ], [ 72.843130083774426, 21.192994744929223 ], [ 72.843130083774426, 21.192341827595516 ], [ 72.842875437584965, 21.191847191331245 ], [ 72.842451027269192, 21.191273411190558 ], [ 72.841987548868943, 21.190634578755464 ], [ 72.841429533803108, 21.189906179773832 ], [ 72.841078781476028, 21.189489950172526 ], [ 72.840791802299321, 21.189118315609409 ], [ 72.840648312710954, 21.18885073814533 ], [ 72.840409163397041, 21.188464236508704 ], [ 72.840042467782354, 21.187973675283683 ], [ 72.839659828880073, 21.187557440240205 ], [ 72.839325019840587, 21.187185800818067 ], [ 72.838974267513493, 21.186754697917799 ], [ 72.838511912173217, 21.186368190800362 ], [ 72.838097386695765, 21.18599654838825 ], [ 72.837746634368656, 21.185743831014328 ], [ 72.837252392453223, 21.185550576260383 ], [ 72.836916996470734, 21.185327198781028 ], [ 72.836401924069094, 21.185081483163884 ], [ 72.835970700663069, 21.184880442809725 ], [ 72.835323865554031, 21.184344333862004 ], [ 72.834796814724442, 21.183986926816793 ], [ 72.834281742322801, 21.183596011871728 ], [ 72.833826562060878, 21.183294448207878 ], [ 72.83335940337102, 21.183171588761077 ], [ 72.832544870270752, 21.183104574474321 ], [ 72.831706380314586, 21.183104574474321 ], [ 72.831095480489381, 21.183104574474321 ], [ 72.830185119965535, 21.183037560157207 ], [ 72.829811027090798, 21.18281449365935 ], [ 72.82916868361248, 21.182455128166893 ], [ 72.828864415649051, 21.182385776830962 ], [ 72.828553386175344, 21.18217772262798 ], [ 72.828269402742819, 21.181925535322769 ], [ 72.828181503108951, 21.181786832121571 ], [ 72.827870473635244, 21.181780527427509 ], [ 72.827552682651216, 21.181736394561586 ], [ 72.827295745259889, 21.181528339444831 ], [ 72.82693859895052, 21.181269684758487 ], [ 72.826285007064243, 21.180943200556051 ], [ 72.825701442880032, 21.180660246997483 ], [ 72.824977823291619, 21.180464355755124 ], [ 72.82364729695162, 21.180420824332689 ], [ 72.822671016598591, 21.180304615290758 ], [ 72.822049637455251, 21.180251942211086 ], [ 72.820693901142491, 21.180067586284459 ], [ 72.820100766505661, 21.180067586284459 ], [ 72.818603807660338, 21.180014913120353 ], [ 72.817502271906207, 21.180172932556392 ], [ 72.816541958684681, 21.18056798040768 ], [ 72.815666378982698, 21.180857681494498 ], [ 72.814847288293734, 21.181305400239538 ], [ 72.814254153656918, 21.181832126439222 ], [ 72.813689263526598, 21.182595876095785 ], [ 72.813286073726601, 21.182853103258502 ], [ 72.812628237737115, 21.183387342858822 ], [ 72.811885519684495, 21.183921580528672 ], [ 72.811503550400275, 21.184277737902729 ], [ 72.810845714410803, 21.184970263673822 ], [ 72.810400083579225, 21.185346204876726 ], [ 72.809954452747647, 21.185603427254176 ], [ 72.809508821916069, 21.186098084414372 ], [ 72.809148073147639, 21.186256374356041 ], [ 72.809041970568686, 21.186553167539827 ], [ 72.80878732437921, 21.18698846313146 ], [ 72.808596339737107, 21.187344613116633 ], [ 72.808341693547646, 21.187562259907356 ], [ 72.808341693547646, 21.18768097620357 ], [ 72.808358067981018, 21.187661914863025 ] ] ] } },
        { "type": "Feature", "properties": { "id": 1 }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 72.83616735161992, 21.175758948546633 ], [ 72.836187989143994, 21.175778562103542 ], [ 72.836747341650039, 21.175778562103542 ], [ 72.837199126366457, 21.175698318525036 ], [ 72.838059668683442, 21.174735392187202 ], [ 72.838575994073636, 21.173892826499156 ], [ 72.839587131296099, 21.17329099092639 ], [ 72.840146483802144, 21.172548723681 ], [ 72.841824541320278, 21.172528662352409 ], [ 72.843352003932935, 21.172929888407378 ], [ 72.844578276734637, 21.173130501026765 ], [ 72.845869090210115, 21.173551786641898 ], [ 72.846880227432578, 21.173953009921753 ], [ 72.84754714772825, 21.17453478174442 ], [ 72.847525634170324, 21.175076429315482 ], [ 72.84696628166428, 21.175397404717884 ], [ 72.846406929158235, 21.17583874475886 ], [ 72.846213307136921, 21.176380387554662 ], [ 72.846213307136921, 21.176841785408712 ], [ 72.846277847810683, 21.177242999763909 ], [ 72.846557524063712, 21.177704394926788 ], [ 72.846815686758802, 21.178246030889909 ], [ 72.847159903685608, 21.17856699941343 ], [ 72.847654715517862, 21.178847846300044 ], [ 72.848278608697683, 21.178827785825828 ], [ 72.848665852740339, 21.178326273086093 ], [ 72.849182178130533, 21.176721420889905 ], [ 72.849354286593936, 21.175658196719457 ], [ 72.849590935731101, 21.174113498928968 ], [ 72.849913639099981, 21.172669091595434 ], [ 72.850107261121295, 21.171686084094699 ], [ 72.850494505163937, 21.170141344824852 ], [ 72.85096780343828, 21.167874360589405 ], [ 72.851462615270563, 21.166209208449906 ], [ 72.851978940660743, 21.164082601363265 ], [ 72.852473752493026, 21.162618033430178 ], [ 72.853076132114907, 21.161354079590534 ], [ 72.853334294809997, 21.159688854086543 ], [ 72.853807593084341, 21.158023609849327 ], [ 72.854345432032474, 21.155957075894154 ], [ 72.854560567611713, 21.154693065179988 ], [ 72.854646621843415, 21.154191470636079 ], [ 72.854883270980594, 21.152726804843088 ], [ 72.855313542139086, 21.151563087446785 ], [ 72.855700786181728, 21.14955665666734 ], [ 72.856001975992669, 21.148352785151989 ], [ 72.856131057340221, 21.146988385605379 ], [ 72.856841004751729, 21.147289357174028 ], [ 72.857615492837013, 21.14730942192352 ], [ 72.857873655532131, 21.146727543084562 ], [ 72.858217872458923, 21.145804558168816 ], [ 72.858389980922311, 21.14482137225885 ], [ 72.858755711407028, 21.143577331755761 ], [ 72.859035387660057, 21.142373411644996 ], [ 72.85946565881855, 21.141049088223848 ], [ 72.859659280839878, 21.1401260679304 ], [ 72.859831389303267, 21.138922119776339 ], [ 72.860304687577624, 21.137156311456589 ], [ 72.860519823156864, 21.136052670572255 ], [ 72.860993121431207, 21.136072736843516 ], [ 72.862154853559133, 21.136313531886625 ], [ 72.863273558571223, 21.136634591335525 ], [ 72.865016156763119, 21.136835253137903 ], [ 72.866436051586149, 21.137116179204781 ], [ 72.867877459967119, 21.137477369079715 ], [ 72.868608920936552, 21.137557633376833 ], [ 72.868824056515805, 21.1372165098139 ], [ 72.869447949695626, 21.136433929261464 ], [ 72.869813680180343, 21.135290150251524 ], [ 72.870330005570523, 21.134427293578412 ], [ 72.870760276729015, 21.133624631698424 ], [ 72.871534764814314, 21.132460764251952 ], [ 72.871749900393553, 21.131357088404439 ], [ 72.872139099566823, 21.130045993672898 ], [ 72.87198850466136, 21.129223240873728 ], [ 72.872698452072868, 21.128199810288134 ], [ 72.87276299274663, 21.127236575048428 ], [ 72.872526343609465, 21.125992386935941 ], [ 72.872741479188718, 21.123845134509942 ], [ 72.872978128325883, 21.1228015987402 ], [ 72.873064182557584, 21.122199555533012 ], [ 72.872935101210047, 21.121095803306005 ], [ 72.87308569611551, 21.119269577038512 ], [ 72.87308569611551, 21.118727725359221 ], [ 72.872031531777196, 21.118346421139176 ], [ 72.870590123396255, 21.117985184658213 ], [ 72.868417254045866, 21.11788484103517 ], [ 72.866416493158894, 21.117804566087859 ], [ 72.865426869494357, 21.117784497344253 ], [ 72.864415732271908, 21.117784497344253 ], [ 72.863232486586057, 21.11764401606294 ], [ 72.862350430711132, 21.117202502598467 ], [ 72.861683510415475, 21.11666064336892 ], [ 72.860844481656414, 21.116520161023395 ], [ 72.859940912223593, 21.11645995426316 ], [ 72.859166424138294, 21.116439885337648 ], [ 72.85813377335792, 21.11635960960847 ], [ 72.857509880178114, 21.116279333835845 ], [ 72.856003931123396, 21.116219126977878 ], [ 72.85421830581565, 21.116219126977878 ], [ 72.852411166949992, 21.116239195933247 ], [ 72.850819163663559, 21.116199058019784 ], [ 72.849721972209409, 21.116138851129236 ], [ 72.848086941807153, 21.116078644214262 ], [ 72.846129208036004, 21.115918092321529 ], [ 72.844666286097123, 21.115978299301656 ], [ 72.844192987822808, 21.116199058019784 ], [ 72.843655148874674, 21.116560298849976 ], [ 72.843569094642973, 21.116961676518574 ], [ 72.843612121758824, 21.117463397077206 ], [ 72.843590608200898, 21.118366489806782 ], [ 72.843031255694868, 21.118667519494899 ], [ 72.842471903188823, 21.118968548572148 ], [ 72.841761955777315, 21.119149165725272 ], [ 72.840707791439002, 21.119530467881866 ], [ 72.839868762679956, 21.119931837514144 ], [ 72.839890276237881, 21.121737987419149 ], [ 72.839868762679956, 21.12510940839385 ], [ 72.839890276237881, 21.127316844890746 ], [ 72.83984724912203, 21.129163039270125 ], [ 72.839997844027494, 21.130728273018814 ], [ 72.839997844027494, 21.131330281598753 ], [ 72.838900652573344, 21.13139048232231 ], [ 72.838040110256358, 21.131470749915657 ], [ 72.836512647643715, 21.131310214685481 ], [ 72.835286374841999, 21.131189813148769 ], [ 72.834447346082968, 21.131490816807201 ], [ 72.833672857997669, 21.131571084346223 ], [ 72.832919883470311, 21.131611218099444 ], [ 72.832166908942938, 21.1316513518418 ], [ 72.831392420857654, 21.131671418708891 ], [ 72.831392420857654, 21.132273423458784 ], [ 72.83149998864728, 21.132915559163951 ], [ 72.831629069994833, 21.133758358055545 ], [ 72.831564529321057, 21.134942281737715 ], [ 72.831736637784445, 21.135664671203294 ], [ 72.831736637784445, 21.137009108889917 ], [ 72.831736637784445, 21.137932148598566 ], [ 72.831715124226534, 21.138714721239385 ], [ 72.831779664900296, 21.139597618744514 ], [ 72.831672097110669, 21.140620970633922 ], [ 72.831672097110669, 21.141202873458205 ], [ 72.831091231046713, 21.141443660165308 ], [ 72.83035977007728, 21.14140352907463 ], [ 72.829413173528607, 21.141463725706569 ], [ 72.828875334580474, 21.141764708499405 ], [ 72.828423549864056, 21.142125887043736 ], [ 72.828057819379339, 21.142868306842029 ], [ 72.828057819379339, 21.143349874451687 ], [ 72.828014792263502, 21.144032092552511 ], [ 72.828122360053115, 21.145356389309235 ], [ 72.82814387361104, 21.146540220327484 ], [ 72.828122360053115, 21.147623718390776 ], [ 72.828057819379339, 21.14850656280451 ], [ 72.827907224473876, 21.148867724911597 ], [ 72.827630230278359, 21.148966787176153 ], [ 72.827130632594148, 21.14893937849439 ], [ 72.826645728959491, 21.148898265462261 ], [ 72.825764085987373, 21.148624178289655 ], [ 72.825146935906901, 21.148569360794273 ], [ 72.824485703677809, 21.148514543278594 ], [ 72.823559978557086, 21.148473430128533 ], [ 72.822604865337297, 21.148404908186393 ], [ 72.821679140216574, 21.148295273013023 ], [ 72.821076684185641, 21.147938958139129 ], [ 72.82056239245189, 21.147733391475825 ], [ 72.820077488817233, 21.147829322620861 ], [ 72.819445644687221, 21.147829322620861 ], [ 72.818725636259984, 21.147911549267182 ], [ 72.81794685163463, 21.147952662573203 ], [ 72.817197455108328, 21.147993775867839 ], [ 72.816550916928776, 21.147829322620861 ], [ 72.815977848996894, 21.147568937939759 ], [ 72.814949265529435, 21.147308552800897 ], [ 72.813817823715226, 21.146842599304705 ], [ 72.812921486693568, 21.146554803766008 ], [ 72.81192229132516, 21.146568508328155 ], [ 72.811540246037254, 21.147007053647208 ], [ 72.810467580421175, 21.147007053647208 ], [ 72.809967982736978, 21.147335961784435 ], [ 72.811011260253991, 21.148240455395911 ], [ 72.81164310438399, 21.148898265462261 ], [ 72.811892903226109, 21.149336803883394 ], [ 72.812407194959832, 21.150309806368554 ], [ 72.81315659148612, 21.151392435422963 ], [ 72.813920682061962, 21.152228384087895 ], [ 72.815581109659448, 21.154338790869396 ], [ 72.81624234188854, 21.155078796514221 ], [ 72.817212149157854, 21.155859909571344 ], [ 72.818137874278577, 21.156873980023942 ], [ 72.818960741052564, 21.157435826878981 ], [ 72.819563197083497, 21.158504700374763 ], [ 72.820004018569563, 21.159395422392528 ], [ 72.821061990136101, 21.160258732464158 ], [ 72.821517505671693, 21.160943895603875 ], [ 72.82209057360356, 21.161697571394395 ], [ 72.822913440377548, 21.16242383716159 ], [ 72.824147740538507, 21.162519758788942 ], [ 72.825337958550861, 21.16242383716159 ], [ 72.82617551937436, 21.162067556287141 ], [ 72.827556760030689, 21.161848306091962 ], [ 72.828688201844898, 21.161574242891273 ], [ 72.829849031758187, 21.161450914285407 ], [ 72.830613122334015, 21.161396101538706 ], [ 72.831450683157513, 21.161313882380593 ], [ 72.83228824398104, 21.161259069583132 ], [ 72.832876005962447, 21.161587946063367 ], [ 72.833772342984105, 21.162040150030514 ], [ 72.834154388272012, 21.162478649527696 ], [ 72.834198470420617, 21.163013069033365 ], [ 72.834227858519696, 21.16371192239826 ], [ 72.833992753727131, 21.164109308133991 ], [ 72.833537238191525, 21.164671127525857 ], [ 72.832920088111052, 21.165507001210369 ], [ 72.832420490426856, 21.165986598733756 ], [ 72.832214773733355, 21.166671735356505 ], [ 72.831979668940804, 21.167069113144155 ], [ 72.832449878525921, 21.167918675869135 ], [ 72.833008252408263, 21.168987473659065 ], [ 72.833507850092502, 21.169915726297781 ], [ 72.833665720046199, 21.170640479580133 ], [ 72.833847877685045, 21.171580388705173 ], [ 72.833993603796131, 21.172327782060403 ], [ 72.834212192962781, 21.173177088107764 ], [ 72.834661515138649, 21.17418492495732 ], [ 72.835572303332953, 21.175339965486163 ], [ 72.836045913193999, 21.175724976991354 ], [ 72.83616735161992, 21.175758948546633 ] ] ] } },
        { "type": "Feature", "properties": { "id": 1 }, "geometry": { "type": "Polygon", "coordinates": [ [ [ 72.83559643443418, 21.17532134408204 ], [ 72.834716347932599, 21.174157245772026 ], [ 72.834289907962329, 21.173191522042853 ], [ 72.834010084167886, 21.172339615216796 ], [ 72.833885256637487, 21.171602404155873 ], [ 72.833718819930283, 21.170612983536952 ], [ 72.833573187811496, 21.169875763871765 ], [ 72.833073877689884, 21.168944533780703 ], [ 72.832487446658206, 21.167932713945365 ], [ 72.832044392143629, 21.167106391886001 ], [ 72.832238228493765, 21.166641583699729 ], [ 72.832459755751046, 21.165970191519722 ], [ 72.832902810265622, 21.165531202678082 ], [ 72.833567392037466, 21.164704867208073 ], [ 72.834065828366363, 21.164136758895893 ], [ 72.834259664716484, 21.163723587844501 ], [ 72.83428735562363, 21.163000535729005 ], [ 72.834176591995003, 21.162458244324199 ], [ 72.833788919294747, 21.161993421538618 ], [ 72.832902810265622, 21.161554420900732 ], [ 72.832321301215231, 21.161218713652023 ], [ 72.831518264907587, 21.161270360970608 ], [ 72.830576774064127, 21.161322008271178 ], [ 72.829856810477949, 21.161425302818252 ], [ 72.828693792377209, 21.161554420900732 ], [ 72.827613846997949, 21.16178683316534 ], [ 72.826229301639913, 21.162019245065007 ], [ 72.825343192610788, 21.162380773961321 ], [ 72.824152483602873, 21.162484067769483 ], [ 72.822961774594972, 21.162380773961321 ], [ 72.822131047380154, 21.16165771528561 ], [ 72.821549538329791, 21.160883005641896 ], [ 72.821134174722374, 21.160263235007474 ], [ 72.8200542293431, 21.159359398180641 ], [ 72.819583483921392, 21.158507204117814 ], [ 72.819004743961727, 21.15741225666639 ], [ 72.818151864021175, 21.156844120363623 ], [ 72.817238064084876, 21.155849876587631 ], [ 72.816232884154957, 21.15502606954383 ], [ 72.815593224199546, 21.154287480021463 ], [ 72.814043458488754, 21.152224696225364 ], [ 72.813192071088096, 21.15135504704017 ], [ 72.812462310458969, 21.150296336791335 ], [ 72.811935261115721, 21.149313241926247 ], [ 72.811692007572674, 21.148859503633709 ], [ 72.811083873715063, 21.148216705339795 ], [ 72.809989232771372, 21.147309220646239 ], [ 72.810516282114634, 21.147044536563314 ], [ 72.811583623883649, 21.147042452232768 ], [ 72.811989046455395, 21.14656120722713 ], [ 72.81106763151962, 21.145942461351051 ], [ 72.810183073181292, 21.145358087872719 ], [ 72.809482797830114, 21.144533086096462 ], [ 72.809409084635249, 21.143673704360605 ], [ 72.809519654427547, 21.142229931821944 ], [ 72.809409084635249, 21.141061153271661 ], [ 72.808856235673773, 21.140029870423845 ], [ 72.80804539053031, 21.139582978960746 ], [ 72.806829122815103, 21.139101709723988 ], [ 72.805944564476775, 21.138517309263712 ], [ 72.80469144016412, 21.138311049727484 ], [ 72.803475172448913, 21.137932906498769 ], [ 72.801816625564541, 21.137932906498769 ], [ 72.800158078680155, 21.138448556116874 ], [ 72.799605229718708, 21.139204838977733 ], [ 72.79897866756238, 21.140373632170643 ], [ 72.798683814782933, 21.141679919535004 ], [ 72.798573244990635, 21.142676815301662 ], [ 72.798425818600919, 21.143742455082933 ], [ 72.798352105406067, 21.144601836419962 ], [ 72.798204679016337, 21.146011211020461 ], [ 72.797762399847173, 21.147901814425378 ], [ 72.797356977275442, 21.149036164885132 ], [ 72.796951554703696, 21.150170506657023 ], [ 72.796546132131951, 21.151064224358048 ], [ 72.796177566157652, 21.152095430388101 ], [ 72.796066996365354, 21.152886016814762 ], [ 72.795882713378205, 21.155085887266285 ], [ 72.795845856780772, 21.156426417295656 ], [ 72.795624717196176, 21.158351259700368 ], [ 72.795366721014176, 21.158557491330789 ], [ 72.79470330226043, 21.157835679367381 ], [ 72.794187309896401, 21.157148236130208 ], [ 72.794113596701521, 21.157629446731406 ], [ 72.793192181765761, 21.159073069149859 ], [ 72.792713045999164, 21.160310448589083 ], [ 72.791386208491673, 21.160035476274253 ], [ 72.7903542237636, 21.159932361524497 ], [ 72.789673392097654, 21.158922728335565 ], [ 72.788889867570447, 21.158557377127224 ], [ 72.787583993358439, 21.157583102830035 ], [ 72.786212825435811, 21.157095963277012 ], [ 72.785559888329814, 21.156791500242374 ], [ 72.785037538645014, 21.156304358084618 ], [ 72.784580482670805, 21.155939000414417 ], [ 72.783862251854202, 21.155878107381728 ], [ 72.782621671352786, 21.155878107381728 ], [ 72.78105462229837, 21.155573641842608 ], [ 72.778638755006156, 21.155634535000527 ], [ 72.777136999662332, 21.155756321241221 ], [ 72.776288181424533, 21.157278640797237 ], [ 72.774982307212525, 21.157278640797237 ], [ 72.773284670736899, 21.157217748315531 ], [ 72.771260565708275, 21.157278640797237 ], [ 72.770542334891672, 21.157217748315531 ], [ 72.769693516653874, 21.156791500242374 ], [ 72.76871411099485, 21.156121679362229 ], [ 72.76773470533584, 21.155512748659667 ], [ 72.766690005966225, 21.155269175677393 ], [ 72.766624712255634, 21.161053925745755 ], [ 72.76721235565104, 21.161480161545619 ], [ 72.768648817284245, 21.161845505539979 ], [ 72.769824104075056, 21.162028177198991 ], [ 72.771195271997669, 21.163367762476092 ], [ 72.772174677656693, 21.164341998698315 ], [ 72.77282761476269, 21.165620674007044 ], [ 72.773545845579307, 21.166473118074713 ], [ 72.774198782685303, 21.168056215457586 ], [ 72.774590544948907, 21.168665094556331 ], [ 72.775047600923102, 21.169273971149416 ], [ 72.775243482054918, 21.170248168486406 ], [ 72.77543936318672, 21.171465906136653 ], [ 72.775569950607917, 21.172257430234115 ], [ 72.776092300292731, 21.172622747619904 ], [ 72.776810531109319, 21.173048950096398 ], [ 72.777789936768343, 21.173536037137307 ], [ 72.778704048716747, 21.173962236982391 ], [ 72.77942227953335, 21.174510206407327 ], [ 72.780597566324175, 21.175362599255507 ], [ 72.781250503430172, 21.175667024082216 ], [ 72.782425790220984, 21.176214987191308 ], [ 72.784580482670805, 21.176884717123151 ], [ 72.786865762541822, 21.177310907318901 ], [ 72.788498105306843, 21.177797980324428 ], [ 72.790326329203666, 21.178102400138251 ], [ 72.791893378258081, 21.178224167888335 ], [ 72.793982776997296, 21.179015655819846 ], [ 72.795615119762317, 21.17962448980759 ], [ 72.796864949859923, 21.180262664002655 ], [ 72.798486640146862, 21.180980929889497 ], [ 72.799581281090568, 21.181547979440865 ], [ 72.800513753005532, 21.182266239084047 ], [ 72.80130921034629, 21.182629920973302 ], [ 72.802289261204805, 21.183367397706913 ], [ 72.803131761065615, 21.18394455084546 ], [ 72.80373354668049, 21.184425510073108 ], [ 72.804232169047111, 21.184858372040157 ], [ 72.805298189279185, 21.185595837657512 ], [ 72.806484566634211, 21.186381394811903 ], [ 72.807206709372053, 21.186974567856119 ], [ 72.807285448324279, 21.187045616853759 ], [ 72.808332711602105, 21.187657733667304 ], [ 72.80855154273479, 21.187424546608661 ], [ 72.808770373867475, 21.187031042613015 ], [ 72.809067358976122, 21.186622963288841 ], [ 72.809208036132844, 21.18625860579742 ], [ 72.809473759651084, 21.186098288216684 ], [ 72.809942683506833, 21.185631908811384 ], [ 72.810380345772202, 21.18541329295865 ], [ 72.810880531218331, 21.185019783608997 ], [ 72.811537024616385, 21.184320208845527 ], [ 72.811880902110602, 21.18395584567843 ], [ 72.812599918689401, 21.183402011944608 ], [ 72.813272042882673, 21.182877325440877 ], [ 72.813683039829542, 21.182611538987178 ], [ 72.814253132368748, 21.181851263469895 ], [ 72.814849740839989, 21.181325867535477 ], [ 72.815651847784693, 21.180862281337074 ], [ 72.816520244559513, 21.18059649126112 ], [ 72.81745770326512, 21.18017823618122 ], [ 72.81862032439507, 21.180046831912279 ], [ 72.820100024014977, 21.180068732631884 ], [ 72.820687206403846, 21.180046831912279 ], [ 72.822049469546002, 21.180254888617519 ], [ 72.822660139230408, 21.180331541014059 ], [ 72.823611374700349, 21.180441044368781 ], [ 72.824950150546954, 21.18049579601573 ], [ 72.82566651306135, 21.180649100519332 ], [ 72.826265439097995, 21.180966659342605 ], [ 72.826925272307236, 21.181284217483881 ], [ 72.827534071478269, 21.181753161392049 ], [ 72.828134047472886, 21.181818977961882 ], [ 72.828284041471534, 21.182024654553821 ], [ 72.828795785702255, 21.182394871698303 ], [ 72.829131066405125, 21.18247714204897 ], [ 72.829828097340055, 21.182839131048034 ], [ 72.830092792631802, 21.183069487222344 ], [ 72.830507481922211, 21.183061260222296 ], [ 72.830769769925467, 21.183061682330958 ], [ 72.831040229574654, 21.183003485810769 ], [ 72.831664367226651, 21.182169333170794 ], [ 72.832101263583041, 21.181218781402286 ], [ 72.832787815000231, 21.180151828260641 ], [ 72.833307929710216, 21.179220662863919 ], [ 72.833994481127405, 21.178308891064741 ], [ 72.834389768307005, 21.177862702816544 ], [ 72.835076319724195, 21.176950922644927 ], [ 72.836054135378973, 21.175942138032653 ], [ 72.836199767497774, 21.175728740406029 ], [ 72.836095744555777, 21.175651141192745 ], [ 72.83559643443418, 21.17532134408204 ] ] ] } }
        ]
      };


      this.cityZones = L.geoJson(cityZonesJson, {
        style: function(feature) {
          return {
            color: '#999',
            opacity: 1,
            weight: '3',
            fillOpacity: 0
          }
        }
      });
/*
      var location = this.tourItems[0].attributes.location;
      var zoom = this.tourItems[0].attributes.zoom;
      this.map.setView([location.latitude, location.longitude], zoom);
*/

      this.addEventListeners();

      return this;
    },

    /**
     * Add view event listeners.
     *
     * @return this
     */
    addEventListeners: function() {
      var _self = this;

      this.sidebarView
        .bind('nav:flood1', this.navFloodLayer1Click, this)
        .bind('nav:flood2', this.navFloodLayer2Click, this)
        .bind('nav:flood3', this.navFloodLayer3Click, this)
        .bind('nav:flood4', this.navFloodLayer4Click, this)
        .bind('nav:satellite', this.navSatelliteClick, this)
        .bind('nav:streets', this.navStreetsClick, this)
        .bind('nav:zones', this.navZonesClick, this);

      this.tourView
        .bind('tour:next', this.tourNavNextBtnClick, this)
        .bind('tour:prev', this.tourNavPrevBtnClick, this);

      this.$el.find('[data-toggle="drop"]').hover(function(e) {
         _self.$el.find('[data-toggle="drop"]').parent().addClass('open');
      }, function(e) {
         _self.$el.find('[data-toggle="drop"]').parent().removeClass('open');
      });

      return this;
    },

    /////////////////////////////////////////////////
    /// Event Listeners
    /// 

    /**
     * Event listener for 'tour:prev'.
     * This event is triggered from the tour view.
     */
    navFloodLayer1Click: function() {

      if (this.map.hasLayer(this.floodLayer1)) {
        this.map.removeLayer(this.floodLayer1);
      } else {
        this.map.addLayer(this.floodLayer1);
      }

    },

    navFloodLayer2Click: function() {

      if (this.map.hasLayer(this.floodLayer2)) {
        this.map.removeLayer(this.floodLayer2);
      } else {
        this.map.addLayer(this.floodLayer2);
      }

    },

    navFloodLayer3Click: function() {

      if (this.map.hasLayer(this.floodLayer3)) {
        this.map.removeLayer(this.floodLayer3);
      } else {
        this.map.addLayer(this.floodLayer3);
      }

    },

    navFloodLayer4Click: function() {

      if (this.map.hasLayer(this.floodLayer4)) {
        this.map.removeLayer(this.floodLayer4);
      } else {
        this.map.addLayer(this.floodLayer4);
      }

    },

    navSatelliteClick: function() {

      if (this.map.hasLayer(this.satellite)) {
        this.map.removeLayer(this.satellite);
        $('.leaflet-tile-pane').animate({opacity: 1});
      } else {
        this.map.addLayer(this.satellite);
        $('.leaflet-tile-pane').animate({opacity: 0.6});
      }

    },


    navStreetsClick: function() {
      if (this.map.hasLayer(this.streets)) {
        this.map.removeLayer(this.streets);
      } else {
        this.map.addLayer(this.streets);
      }

    },


    navZonesClick: function() {
      if (this.map.hasLayer(this.cityZones)) {
        this.map.removeLayer(this.cityZones);
      } else {
        this.map.addLayer(this.cityZones);
      }

    },

    /**
     * Event listener for 'tour:prev'.
     * This event is triggered from the tour view.
     */
    tourNavPrevBtnClick: function() {

      this.currentTourItem--;
      var tourLength = this.tourItems.length;
      console.log(this.currentTourItem);

      if (this.currentTourItem == -1) {
        this.currentTourItem = tourLength - 1;
      }

      this.showTourItem();
    },

    /**
     * Event listener for 'tour:prev'.
     * This event is triggered from the tour view.
     */
    tourNavNextBtnClick: function() {

      this.currentTourItem++;
      var tourLength = this.tourItems.length;
      if (this.currentTourItem >= tourLength) {
        this.currentTourItem = 0;
      }

      this.showTourItem();

    },

    showTourItem: function() {
      var location = this.tourItems[this.currentTourItem].attributes.location;
      var zoom = this.tourItems[this.currentTourItem].attributes.zoom;
      this.map.setView([location.latitude, location.longitude], zoom);

      var layer = this.tourItems[this.currentTourItem].attributes.layer;
      this.layerSwitch(layer);

      var markers = this.tourItems[this.currentTourItem].attributes.markers;
      this.markerSwitch(markers);

      this.tourView.setData(this.tourItems[this.currentTourItem].attributes).render();
    },

    /////////////////////////////////////////////////
    /// Helpers
    /// 


    /**
     * Control the display of layers
     * 
     */
    layerSwitch: function(layer) {
      // Remove all layers
      if (this.map.hasLayer(this.satellite)) {
        this.map.removeLayer(this.satellite);
      }

      if (layer == 'satellite') {
        this.map.addLayer(this.satellite);
        $('.leaflet-tile-pane').animate({
          opacity: 0.6
        });
      }
    },

    /**
     * Control the display of layers
     * 
     */
    markerSwitch: function(markers) {
      console.log('tourMarkers', this.tourMarkers);
      console.log('markers', markers);

      this.tourMarkers.clearLayers();

      if (markers) {
        markers.forEach(function(m) {
          var opts = {};
          if (m.title) {
            opts.title = m.title;
          }
          var marker = L.marker(m.coords, opts);
          if (m.description) {
            marker.bindPopup(m.description);
          }
          this.tourMarkers.addLayer(marker);
        }.bind(this));
      }
    },

    /**
     * Process the data from the parse api creating a geojson.
     * 
     * @param  {Function} callback 
     *  Callback when process is complete. Called with two arguments (err, res) 
     */
    processApiData: function(callback) {
      var _self = this;

      // All published projects.
      var ProjectQuery = new Parse.Query(Grp.Models.Project);
      ProjectQuery.equalTo("published", 1);

      // All the locations of the published projects.
      var LocationQuery = new Parse.Query(Grp.Models.Location);
      LocationQuery.matchesQuery('project', ProjectQuery);
      LocationQuery.include('project');

      // All the tour items
      var TourQuery = new Parse.Query(Grp.Models.TourItem);

      async.parallel([
          function(cb) {
            TourQuery.find({
              success: function(tourItems) {
                cb(null, tourItems);
              },
              error: function(error) {
                cb(error.message);
              }
            });
          },
        ],
        function(err, res) {
          if (err) {
            throw new Error(err);
          }

          var tourItems = res[0];


          async.parallel([
              function(cb) {
                LocationQuery.find({
                  success: function(locations) {
                    cb(null, locations);
                  },
                  error: function(error) {
                    cb(error.message);
                  }
                });
              },
            ],
            function(err, res) {
              if (err) {
                throw new Error(err);
              }

              var locations = res[0];

              var geojson = {
                type: "FeatureCollection",
                features: []
              };

              //console.log('locations', locations);

              locations.forEach(function(obj) {
                var project = obj.get('project');

                if (_self.projectIds.indexOf(project.id) == -1) {
                  // Store a list of all projects.
                  _self.projects.push(project);
                  // Store a list of pids for the navigation.
                  _self.projectIds.push(project.id);
                }

                // Base feature structure. 
                var feature = {
                  type: "Feature",
                  geometry: {
                    type: "Point",
                    coordinates: []
                  },
                  properties: {}
                };

                // The feature properties will be the related project.
                feature.properties = project.attributes;
                feature.properties.pid = project.id;

                var loc = obj.get('location');
                feature.geometry.coordinates = [loc.longitude, loc.latitude];

                geojson.features.push(feature);

              });


              callback(null, geojson, tourItems);
            }
          )
        });
    }

  });

})();
